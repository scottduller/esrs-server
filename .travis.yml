sudo: required
services:
- docker
before_install:
- docker build -t scottduller/esrs-server -f Dockerfile.dev .
script:
- docker run scottduller/esrs-server yarn test
deploy:
  provider: elasticbeanstalk
  region: eu-west-2
  app: esrs-project
  env: Esrsproject-env
  bucket_name: elasticbeanstalk-eu-west-2-923573125615
  bucket_path: esrs-project
  on:
    branch: main
  access_key_id: "$AWS_ACCESS_KEY"
  secret_access_key: "$AWS_SECRET_KEY"
env:
  global:
  - secure: D0W2cu8NBqmWvQFzDCEdVX7ckePIbfveNhLUUS/WiSUeCPdNipt5Mima+Wl5A9Xfr1E3jmeCebsFzkOJh7qTiMMEMslef9osVZek1NdRm/vlYe8HBoti4PRweHHs2FVuw/M6iB1gwnUksqmjNPkx6rEoT7WcMHOBuueroWKttMAoeLQ102R7J6IYDmGGOGTdwiHKOpSLZgWDxuone8qL0AIgqMtiDwBcsJ1AcCC+0tluft58aMzSFO3Lonuqss4KsfNkDgbmWGTJpOlLWcjvsDNNbzjxadDKvH755t3cD9/Xq7BIxpM2c2RXKIFWnjS6CqkZQI1N+tn0lsiX04hCVITzEjJAWHsY7lwLskVN6J9jd8EvqUsCH1J8KVSAgPIOPe8nUeKuM0PzOYT04fExTUX2GHo6WE5vCWZBIvGrGlCr3jCJRanGolwdN1eM8pIUB/oNmYOMSJU0/0HkGpAsjz0LoesGJLvLP7bjh7rjSQ2WWPFDyOOwQZmyzuql+C8MCQjPgr0AHHzSeh3ed6EGTas7xzUNDy0Uedcgj7cA1eIf8WeqGvRaqOY9C1YZ3MHNbmGCNcRSPpD1U3dRqzugWqFJYfweheFLrIWpZdsIWQF1b9q1LnRIz0K1yH/2/tEaHhOOveAXF2PSkRy9LHd1hf3RH+Mf+ehmd82U4TlkFTo=
  - secure: qmDgaA1x9f5Z3lmT4TKHv3TiVsnePi0de7JnYHXzYag7igRzOw7YCiOfBDXgfC6pnqSEMchUZVfcZG4blu+/T5Wozxc0xkSBukWavZTqAH7pGZv9RvEQQO5z1vW2PniQuP4KCFn31hE9Bqfv+8YzfgP7P/4zMVVLNUBkbyXpsJk1EbyAVD8skatH4Ct5r9jLJAGQpKJoXADSLc6kMhBOqUL0T2wL1vhONrmD5N5Y48cORrIKXURCfZINx9EZY9hxdZCo1Lmahf3+hCauFxoiSbmYb+1Dgh0dX6oEsYPI0RO7o1+lI7M0mciGXgzDWp9nXL/EKmC07JUPaLwKoVCX7a5+Rog4Q7xbe7JYD+tiMWcP6E7gJohw7jwuvIrcQhFgeUmB1V0VKUcQH5scoa1PFHg0ojwx1RCdMXvMqAxdczc4o0uGqXggkx4kWjtVIzaFUXb0YYgY6HbrTdZCOIucg2/0sSM0ErqaC/Loo2XkK0uBdPWHS1/bVY63kY7XyvxSbtvAx0nXFt/fVcffl01uCN+bB/Zgc5e+OKGaIEmrAapbsU0NLe8a/WFHpFpeU5DBtXV5nZfoHA9/F6z+4dKat4vN22u73z4UTzqXFl+TTz0vQZCiKbstTSou5EZM35tMnekZXG3nEek/wkgrdmPx+54/gUfjn7zaX+q4MGPVf6s=
  - secure: Zntcxiec0m5yaLGftNet8p0AM4/5f+iW/+ElmZsMR1ow96Qla3DujbDYjMAoXsFqXswOcDimm44QehRp4QiAIGP+AyuY82iGuGanfzICyeZ7YTl/ZvRPLAuJJ76C+fU4hd5GyJY++ZgYQqT5v6SyriI54Fg5v7n89+nuWnZExEyLwYDDjtn9Kbhu4YYAyLrDQ0HuyEfuiin9Jdu1pteI97E59VXQX+F3dBWXdIAODbOKkqnzrhh+ZvYK/HMk4ydbEp3jk4Z0O52zXBBTPs4kVgCkbpb4H36FBEU/CaGP6tiv6yOyA3bOiGpogOxOLwaqpnsccP5r2knhsoaZPorxmWyHtxoAiA5I4P78Pm++bx+YVmPi/kdPSEAxzCceZgdetaONdqD6YSC1GOktVeE/uvRYCjsvYulw4ur3jSH6e4igtRT5PkHGJGvbovYyzlaHNvP9JGP1QdpsQ7XTLWJaKgoN7+lEt+onw609H1N08nr6Iu+FIvFRPXR/+4zo2Nr7BZW1D2tO6WjYDxDPYAzvWK1f0HiInA7earPcdqKiQw58d1J2uSIaw/VNEig+PJuU+SvSlYE5ACm6kr3WCit3Q+Da7a/jimUKWrNhFgzBASciCJyIZre1YYrVPdxd9FhIgyOEJ7LCTrGuByUxlyTClIAqqxTxFWwE1aBuC/RHdRw=
  - secure: eLzHGZ8Ddx3YdMbXCz84UFqNjodpjuRUqAeENbfOlqho5D2b7Etbb2rLtEScO1dDu63rEARzL6hYXm1xCekjq5fI42waKTFXdjuXdRULwCtBbWi4rU5dT/4g6/2GC+O5z4JoFHEz+RcVprNWNrfIS31iGyJyCVz0G3jHz3gBbGufJOTwoRAG96/c9ae7i+RuE0RpVoSvFzxH0tZsqVLTC23SIsiEAFbJw7+buB6crBFiszr00P4N58DFWoXqXT6rhzcmFXWftzEbcHBlThFW03oJDfL5d73gbP49TDpnij+EmxpdQ7jHC7aAQI5Urmep/2vockz4eQKs0yXJt19yrA7Gw04bYm/QLTjABpL6HL6x8Mkc1ibYefXv3474wDylePFzGykC5Q48tG47Dp2wolCfjeeKpifmMdwj2Yru0Mf1XydNybdzPXDC1pSAHLQYCsYNE86ymk2tZYrcGemFQ/xM8jejHGVT6H2irbmEsZ+RK2wL4VjZ+jeJiZg70es3r0O2RiBgj4fmBa7JVf4J/HUr6ztOqyzQmfPatWjFfPfzqZhByTNNFLzbFkAoicK65CS9rB7ea7EdgZrQoo+f53yHArNAqy7eO23KPex11kU0cW0e8b7BIQgcKKWzrEBqiXHTHjHjcl/MVVnfSwaQyQKlKynkwFVvJsMtVezqyjY=
